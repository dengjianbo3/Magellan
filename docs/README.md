# AI æŠ•ç ”å·¥ä½œå° - æ–‡æ¡£ä¸­å¿ƒ

**é¡¹ç›®**: AI æŠ•èµ„æŠ¥å‘Š Agent  
**å½“å‰ç‰ˆæœ¬**: V3  
**æœ€åæ›´æ–°**: 2025-10-22

---

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### V1 - MVPï¼ˆåˆå§‹ç‰ˆæœ¬ï¼‰
è‚¡ç¥¨åˆ†æå·¥å…·ï¼Œæ”¯æŒå¤šAgentåä½œç”ŸæˆæŠ•èµ„æŠ¥å‘Š

- ğŸ“„ [V1 è®¾è®¡ä¸æ¶æ„](V1_MVP/V1_Design_and_Architecture.md)
- ğŸ“‹ [V1 å¼€å‘è®¡åˆ’](V1_MVP/V1_Development_Plan.md)

### V2 - äºŒçº§å¸‚åœºå¢å¼ºç‰ˆ
åŠ å¼ºçš„è‚¡ç¥¨åˆ†æå·¥å…·ï¼Œå¼•å…¥User Personaå’ŒHITL

- ğŸ“„ [V2 è®¾è®¡ä¸è®¡åˆ’](V2/V2_Design_and_Plan.md)
- ğŸ”„ [V2 vs V3 å¯¹æ¯”](V2/V2_vs_V3_Comparison.md)

### V3 - ä¸€çº§å¸‚åœºæŠ•ç ”å·¥ä½œå° â­ï¸ å½“å‰ç‰ˆæœ¬
å®Œæ•´çš„å°½èŒè°ƒæŸ¥(DD)å·¥ä½œæµï¼Œæ”¯æŒBPè§£æã€IMç”Ÿæˆã€ä¼°å€¼åˆ†æ

- ğŸ“„ [V3 è®¾è®¡ä¸è®¡åˆ’](V3/V3_Design_and_Plan.md)
- ğŸ“Š [V3 å¼€å‘è¿›åº¦](V3/V3_Development_Progress.md)
- ğŸ¨ [V3 UI è®¾è®¡æŒ‡å¼•](V3/V3_UI_Design_Guide.md)
- ğŸ”§ [V3 æŠ€æœ¯ç»†èŠ‚](V3/V3_Technical_Details.md)

---

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### å½“å‰ç³»ç»Ÿï¼ˆV3ï¼‰

**æ ¸å¿ƒèƒ½åŠ›**:
1. ğŸ“„ BP æ™ºèƒ½è§£æ
2. ğŸ” æœºæ„åå¥½ç­›é€‰
3. ğŸ‘¥ å›¢é˜Ÿå°½èŒè°ƒæŸ¥
4. ğŸ“ˆ å¸‚åœºå°½èŒè°ƒæŸ¥
5. âš ï¸ é£é™©è¯„ä¼°
6. ğŸ“ IM å·¥ä½œå°
7. ğŸ’¡ å†…éƒ¨æ´å¯Ÿ
8. ğŸ“¥ Word å¯¼å‡º
9. ğŸ’° ä¼°å€¼ä¸é€€å‡ºåˆ†æ

**æŠ€æœ¯æ ˆ**:
- åç«¯: FastAPI + Google Gemini + ChromaDB
- å‰ç«¯: Vue 3 + TypeScript + Base44 è®¾è®¡ç³»ç»Ÿ
- æ¶æ„: å¾®æœåŠ¡ + 7ä¸ªä¸“ä¸šAgent

**å¿«é€Ÿå¯åŠ¨**:
```bash
# å¯åŠ¨åç«¯
docker compose up -d

# å¯åŠ¨å‰ç«¯
cd frontend && npm run dev
```

---

## ğŸ“ˆ ç‰ˆæœ¬æ¼”è¿›

| ç‰ˆæœ¬ | å®šä½ | æ ¸å¿ƒåŠŸèƒ½ | çŠ¶æ€ |
|------|------|---------|------|
| V1 | è‚¡ç¥¨åˆ†æ MVP | 3ä¸ªAgentï¼ŒåŸºç¡€æŠ¥å‘Š | âœ… å·²å®Œæˆ |
| V2 | äºŒçº§å¸‚åœºå¢å¼º | User Personaï¼ŒHITL | âœ… å·²å®Œæˆ |
| V3 | ä¸€çº§å¸‚åœºæŠ•ç ” | DDå·¥ä½œæµï¼ŒIMç”Ÿæˆï¼Œä¼°å€¼ | âœ… **å½“å‰ç‰ˆæœ¬** |

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„ï¼ˆV3ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Frontend (Vue 3)                       â”‚
â”‚  ChatView â”‚ InteractiveReportView â”‚ PersonaView â”‚ ReportView â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Report Orchestrator                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              DD State Machine                        â”‚   â”‚
â”‚  â”‚  INIT â†’ DOC_PARSE â†’ PREFERENCE_CHECK â†’ TDD â†’ MDD    â”‚   â”‚
â”‚  â”‚  â†’ CROSS_CHECK â†’ DD_QUESTIONS â†’ HITL â†’ COMPLETED    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  TeamAgent â”‚ MarketAgent â”‚ RiskAgent â”‚ PreferenceAgentâ”‚  â”‚
â”‚  â”‚  ValuationAgent â”‚ ExitAgent â”‚ BPParser                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LLM Gateway  â”‚    â”‚ Web Search   â”‚    â”‚ User Service â”‚
â”‚  (Gemini)    â”‚    â”‚  (Tavily)    â”‚    â”‚  (åå¥½ç®¡ç†)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                     
        â–¼                     
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Internal     â”‚    â”‚ External     â”‚    â”‚ File Service â”‚
â”‚ Knowledge    â”‚    â”‚ Data Service â”‚    â”‚ (è§£æå™¨)      â”‚
â”‚ (ChromaDB)   â”‚    â”‚ (å¤©çœ¼æŸ¥)      â”‚    â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ä»£ç ç»Ÿè®¡

| æŒ‡æ ‡ | V1 | V2 | V3 |
|------|----|----|-----|
| æ€»ä»£ç é‡ | ~2,000è¡Œ | ~3,500è¡Œ | ~6,510è¡Œ |
| å¾®æœåŠ¡ | 5ä¸ª | 6ä¸ª | 7ä¸ª |
| Agent | 3ä¸ª | 4ä¸ª | 7ä¸ª |
| å‰ç«¯è§†å›¾ | 2ä¸ª | 3ä¸ª | 4ä¸ª |

---

## ğŸ“ å­¦ä¹ è·¯å¾„

### 1. æ–°æ‰‹å…¥é—¨
1. é˜…è¯» [V1 è®¾è®¡ä¸æ¶æ„](V1_MVP/V1_Design_and_Architecture.md)
2. äº†è§£åŸºæœ¬çš„ Agent åä½œæ¨¡å¼
3. ç†è§£æŠ¥å‘Šç”Ÿæˆæµç¨‹

### 2. è¿›é˜¶ç†è§£
1. é˜…è¯» [V2 vs V3 å¯¹æ¯”](V2/V2_vs_V3_Comparison.md)
2. ç†è§£ä»äºŒçº§å¸‚åœºåˆ°ä¸€çº§å¸‚åœºçš„è½¬å˜
3. å­¦ä¹  HITLï¼ˆHuman-in-the-Loopï¼‰æœºåˆ¶

### 3. æ·±å…¥å¼€å‘
1. é˜…è¯» [V3 æŠ€æœ¯ç»†èŠ‚](V3/V3_Technical_Details.md)
2. äº†è§£ DD çŠ¶æ€æœºè®¾è®¡
3. å­¦ä¹  Agent å®ç°ç»†èŠ‚
4. ç ”ç©¶ Base44 è®¾è®¡ç³»ç»Ÿ

---

## ğŸ”§ å¼€å‘èµ„æº

### API æ–‡æ¡£
- Report Orchestrator: http://localhost:8000/docs
- LLM Gateway: http://localhost:8001/docs
- User Service: http://localhost:8008/docs

### æµ‹è¯•
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®š Sprint æµ‹è¯•
pytest test_sprint3_phase2_e2e.py
```

### æ—¥å¿—
```bash
# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
docker logs magellan-report_orchestrator
docker logs magellan-llm_gateway
```

---

## ğŸ“ è´¡çŒ®æŒ‡å—

### æ·»åŠ æ–° Agent
1. åœ¨ `backend/services/report_orchestrator/app/agents/` åˆ›å»ºæ–°æ–‡ä»¶
2. ç»§æ‰¿åŸºç¡€ Agent ç±»æˆ–ç›´æ¥å®ç°
3. åœ¨çŠ¶æ€æœºä¸­æ³¨å†Œ
4. æ·»åŠ æµ‹è¯•

### ä¿®æ”¹ UI
1. éµå¾ª Base44 è®¾è®¡ç³»ç»Ÿ
2. ä½¿ç”¨ CSS å˜é‡
3. ä¿æŒæ·±è‰²æ¨¡å¼ä¸€è‡´æ€§

---

## ğŸ› é—®é¢˜æ’æŸ¥

### å¸¸è§é—®é¢˜

1. **LLM Gateway 502 é”™è¯¯**
   - æ£€æŸ¥ GOOGLE_API_KEY ç¯å¢ƒå˜é‡
   - é‡å¯æœåŠ¡: `docker compose restart llm_gateway`

2. **ChromaDB è¿æ¥å¤±è´¥**
   - ç¡®ä¿ Chroma å®¹å™¨è¿è¡Œ
   - æ£€æŸ¥ç½‘ç»œè¿æ¥

3. **å‰ç«¯æ„å»ºå¤±è´¥**
   - æ¸…é™¤ç¼“å­˜: `rm -rf node_modules && npm install`
   - æ£€æŸ¥ TypeScript é”™è¯¯

---

## ğŸ“§ è”ç³»æ–¹å¼

- é¡¹ç›®ç»´æŠ¤è€…: [Your Name]
- æŠ€æœ¯æ”¯æŒ: [Email]

---

## ğŸ“œ è®¸å¯è¯

[Your License]

---

**æœ€åæ›´æ–°**: 2025-10-22  
**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0
